<h1>Listing groups</h1>

<table width="100%">
  <tr>
    <th colspan="0">Name</th>
    <!--th>Description</th>
    <th>Preference</th-->
    <!--th>Created at</th>
    <th>Updated at</th-->
  </tr>
  <tr>
    <th colspan="0">(Prefrence) Description</th>
  </tr>

<% for group in @groups %>
  <tr>
    <th colspan="0"><hr /></th>
  </tr>
  <tr>
    <td><%=h group.name %></td>
    <!--td><%=h group.description %></td>
    <td><%=h group.preference %></td-->
    <!--td><%=h group.created_at %></td>
    <td><%=h group.updated_at %></td-->
    <td><%= link_to 'Show', group %></td>
    <td><%= link_to 'Edit', edit_group_path(group) %></td>
    <td><%= link_to 'Destroy', group, :confirm => 'Are you sure?', :method => :delete %></td>
  </tr>
  <tr>
    <td colspan="0">(<%=h group.preference %>) <%=h group.description %></td>
  </tr>
  <tr>
    <td colspan="0"><div class="group">
      <%= link_to_function 'Hide items', "Effect.SlideUp($('items_#{group.id}'))", :id => "items_hide_#{group.id}", :style => "display: none" %><%= content_tag :div, (link_to_remote 'Items in this group', :update => "items_#{group.id}", :url => group_items_path(group), :method => 'get', :success => "$('items_hide_#{group.id}').show()"), :id => "items_#{group.id}", :class => "items" %>
    </div></td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New group', new_group_path %>
